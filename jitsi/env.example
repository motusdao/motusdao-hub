# Jitsi Meet Docker Configuration
# Copy this file to .env and update with your values

# ============================================
# Domain Configuration
# ============================================
# Your public domain (e.g., videochat.motusdao.org)
# For local development, use localhost or your local IP
PUBLIC_URL=http://localhost:8080

# XMPP Domain Configuration
# These are internal domains used by Jitsi
XMPP_DOMAIN=meet.jitsi
XMPP_AUTH_DOMAIN=auth.meet.jitsi
XMPP_GUEST_DOMAIN=guest.meet.jitsi
XMPP_MUC_DOMAIN=muc.meet.jitsi
XMPP_INTERNAL_MUC_DOMAIN=internal-muc.meet.jitsi
XMPP_RECORDER_DOMAIN=recorder.meet.jitsi

# ============================================
# SSL/HTTPS Configuration (Production)
# ============================================
# Enable Let's Encrypt for automatic SSL certificates
# Set to 1 for production, 0 for local development
ENABLE_LETSENCRYPT=1
LETSENCRYPT_DOMAIN=
LETSENCRYPT_EMAIL=

# ============================================
# JWT Authentication (Required for Production)
# ============================================
# Generate a secure secret: openssl rand -hex 32
# IMPORTANT: This must match JITSI_APP_SECRET in your Next.js .env.local
JWT_APP_SECRET=your-secret-here-min-32-characters
JWT_APP_ID=motusdao

# Authentication Settings
ENABLE_AUTH=1
AUTH_TYPE=jwt
ENABLE_GUESTS=1
JWT_ALLOW_EMPTY=0

# ============================================
# Port Configuration
# ============================================
# HTTP/HTTPS ports
HTTP_PORT=8080
HTTPS_PORT=8443

# JVB (Jitsi Videobridge) ports
# UDP port for media traffic
JVB_PORT=10000
# TCP port for fallback
JVB_TCP_PORT=4443

# ============================================
# Server Configuration
# ============================================
# For local development, set this to your machine's IP or leave empty
# For production, leave empty (Docker will auto-detect)
DOCKER_HOST_ADDRESS=

# Configuration directory (where Jitsi stores its config files)
CONFIG=./jitsi-meet-cfg

# Restart policy
RESTART_POLICY=unless-stopped

# ============================================
# Optional Features
# ============================================
# Enable recording (requires additional setup)
ENABLE_RECORDING=0

# Timezone
TZ=UTC

